const burger=document.querySelector(".burger"),links=document.querySelectorAll('a[href*="#"]'),body=document.body,nav=document.querySelector(".header__nav");function getAverageColor(e){const t=document.createElement("canvas"),o=t.getContext("2d"),n=t.width=e.width,r=t.height=e.height;o.drawImage(e,0,0,n,r);let c=o.getImageData(0,0,n,r).data,l=0,s=0,a=0,i=0;for(let e=0;e<c.length;e+=4)l+=c[e],s+=c[e+1],a+=c[e+2],i++;return l=Math.floor(l/i),s=Math.floor(s/i),a=Math.floor(a/i),`rgb(${l}, ${s}, ${a})`}window.addEventListener("scroll",(function(){document.querySelector(".header").classList.toggle("sticky",window.scrollY>0)})),burger.addEventListener("click",(function(){this.classList.toggle("active"),nav.classList.toggle("open"),body.classList.toggle("lock")})),links.forEach((function(e){e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href").substring(1);o&&(document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"}),nav.classList.remove("open"),body.classList.remove("lock"),burger.classList.remove("active"))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".rail__img");e.forEach((e=>{e.onload=function(){const t=getAverageColor(e);e.style.filter=`drop-shadow(0 0 20px ${t})`},e.complete&&e.onload()})),setInterval((function(){const t=[];for(;t.length<12;){const o=Math.floor(Math.random()*e.length);t.includes(o)||t.push(o)}const o=t.map((t=>e[t]));o.forEach((e=>e.classList.add("flip"))),setTimeout((()=>{o.forEach((e=>e.classList.remove("flip")))}),1e3)}),4e3)}));